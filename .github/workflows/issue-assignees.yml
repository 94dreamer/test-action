# force copy from tencent/tdesign
# å½“åœ¨ issue çš„ comment å›å¤ç±»ä¼¼ `Duplicate of #111` è¿™æ ·çš„è¯ï¼Œissue å°†è¢«è‡ªåŠ¨æ‰“ä¸Š é‡å¤æäº¤æ ‡ç­¾ å¹¶ä¸” cloese
name: Issue Add Assigness

on:
  workflow_call:
    inputs:
      project_name:
        required: true
        type: string
      issue_title:
        required: true
        type: string

jobs:
  mark-duplicate:
    runs-on: ubuntu-latest
    steps:
      - run: echo ${{github.event.repository.name}} ${{github.event.issue.title}}
      - run: echo ${{ secrets.GITHUB_TOKEN }}
      - run: echo ${{ github.event.issue.number }}
      - uses: actions/checkout@v2
      # https://docs.github.com/cn/developers/webhooks-and-events/webhooks/webhook-events-and-payloads#issues
      - uses: ./.github/actions/get-contributor
        id: contributors
        with:
          project_name: ${{github.event.repository.name}}
          issue_title: ${{github.event.issue.title}}
      - run: echo ${{ steps.contributors.outputs.contributors }}
      - name: Add assigness
        if: steps.contributors.outputs.contributors != ''
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'add-assignees'
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
          assignees: ${{ steps.contributors.outputs.contributors }}

      - uses: wow-actions/auto-comment@v1
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          issuesOpened: |
            ğŸ‘‹ @{{ author }}ï¼Œæ„Ÿè°¢ä½ ç»™æˆ‘ä»¬æå‡º issueã€‚
            è¯·æ ¹æ® issue æ¨¡ç‰ˆç¡®ä¿é—®é¢˜çš„èƒŒæ™¯ä¿¡æ¯çš„å®Œå–„ï¼Œæˆ‘ä»¬å°†è°ƒæŸ¥å¹¶å°½å¿«å›å¤ä½ ã€‚
